(this["webpackJsonpdrop-img-with"]=this["webpackJsonpdrop-img-with"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(6),o=n.n(a),i=(n(12),n(2)),s=(n(13),n(7)),u=(n(14),n(1)),l=function(e){var t=e.img,n=Object(c.useRef)(null),r=Object(c.useRef)(null),a=Object(c.useState)(0),o=Object(i.a)(a,2),l=o[0],f=o[1],j=Object(c.useState)(0),d=Object(i.a)(j,2),b=d[0],O=d[1],v=Object(c.useState)(),h=Object(i.a)(v,2),g=h[0],x=h[1],p=Object(c.useState)(!1),m=Object(i.a)(p,2),w=m[0],S=m[1],D=Object(c.useState)([]),C=Object(i.a)(D,2),E=C[0],y=C[1];console.log(b),Object(c.useEffect)((function(){var e=new Image;e.src=t,e.onload=function(){f(e.width),O(e.height)},x(e)}),[]),Object(c.useEffect)((function(){console.log("inside",l,b);var e=n.current;e.width=l,e.height=b,e.style.width="".concat(l,"px"),e.style.height="".concat(b,"px");var t=e.getContext("2d");if(null==t)throw new Error("Could not get context");t&&g&&(t.drawImage(g,0,0,l,b),t.scale(2,2),t.lineCap="round",t.strokeStyle="red",t.lineWidth=2,r.current=t)}),[l,b,g]);return Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("canvas",{onMouseDown:function(e){var t=e.nativeEvent,n=t.offsetX,c=t.offsetY;if(null==r)throw new Error("Could not get context");r.current&&(r.current.beginPath(),r.current.moveTo(n,c),S(!0))},onMouseUp:function(){r.current&&(r.current.closePath(),S(!1))},onMouseMove:function(e){var t=e.nativeEvent;if(w){var n=t.offsetX,c=t.offsetY;if(r.current){r.current.lineTo(n,c),r.current.stroke();var a={x:n,y:c};y([].concat(Object(s.a)(E),[a]))}}},ref:n}),Object(u.jsxs)("div",{className:"result",children:[b&&l&&Object(u.jsx)("div",{children:"".concat(l," x  ").concat(b," ")}),Object(u.jsx)("div",{className:"tab",children:E.filter((function(e,t){return t%10===0})).map((function(e){return Object(u.jsx)("div",{className:"card",children:"".concat(e.x,":").concat(e.y)})}))})]})]})};var f=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),o=Object(i.a)(a,2),s=o[0],f=o[1],j=Object(c.useState)(),d=Object(i.a)(j,2),b=(d[0],d[1],Object(c.useState)()),O=Object(i.a)(b,2),v=(O[0],O[1],function(e){e.preventDefault(),r(!0)}),h=function(e){e.preventDefault(),r(!1)},g=function(e){f(e.target.result)};return Object(u.jsx)("div",{className:"App",children:s?Object(u.jsx)(l,{img:s}):n?Object(u.jsx)("div",{className:"dnd-space",onDragStart:v,onDragLeave:h,onDragOver:v,onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files[0],n=new FileReader;n.onloadend=g,n.readAsDataURL(t)},children:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446, \u0442\u0435\u043f\u0435\u0440\u044c \u043e\u0442\u043f\u0443\u0441\u043a\u0430\u0439, \u043d\u0435 \u0431\u043e\u0439\u0441\u044f"}):Object(u.jsx)("div",{onDragStart:v,onDragLeave:h,onDragOver:v,children:"\u0414\u0440\u0443\u0436\u0438\u0449\u0435, \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438 \u0441\u044e\u0434\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),j()}},[[16,1,2]]]);
//# sourceMappingURL=main.505858c0.chunk.js.map